<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Add Expense</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body { 
      background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); 
      font-family: 'Arial', sans-serif; 
    }

    /* Sidebar */
    .sidebar { 
      height: 100vh; 
      background: linear-gradient(180deg, #4b4f53ff 0%, #343a40 100%); 
      color: white; 
      position: fixed; 
      width: 220px; 
      padding-top: 20px; 
      box-shadow: 2px 0 10px rgba(0,0,0,0.1);
    }
    .sidebar a { 
      color: white; 
      display: block; 
      padding: 10px 20px; 
      text-decoration: none; 
      transition: all 0.3s ease;
    }
    .sidebar a:hover { background: #495057; transform: translateX(5px); }
    .sidebar a.active { background: #6c757d; font-weight: bold; border-left: 4px solid #ffc107; }
    .sidebar-logo {
      max-width: 120px;
      border-radius: 50%;
      padding: 5px;
      background: #343a40;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }

    /* Main content */
    .main-content { 
      margin-left: 220px; 
      padding: 20px; 
    }

    /* Profile dropdown */
    .profile-icon {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      cursor: pointer;
      transition: transform 0.3s ease;
    }
    .profile-icon:hover { transform: scale(1.1); }

    /* Clock style */
    .time-card {
      display: inline-block;
      padding: 8px 16px;
      font-size: 0.8rem;    
      font-weight: bold;
      color: #ffffff;          
      background: linear-gradient(45deg, #616d79ff, #495057);    
      border-radius: 20px;      
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      font-family: 'Arial', sans-serif;
    }

    /* Form container */
    .container-box {
      background: white;
      padding: 30px;
      border-radius: 15px;
      box-shadow: 0 6px 12px rgba(0,0,0,0.15);
      max-width: 600px;
      margin: 30px auto;
      position: relative;
    }
    .container-box::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 5px;
      background: linear-gradient(90deg, #007bff, #28a745);
      border-radius: 15px 15px 0 0;
    }

    /* Form elements */
    .form-label { font-weight: bold; color: #495057; margin-bottom: 8px; }
    .form-control, .form-select { border-radius: 8px; border: 1px solid #ced4da; transition: border-color 0.3s ease, box-shadow 0.3s ease; }
    .form-control:focus, .form-select:focus { border-color: #007bff; box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25); }

    /* Button */
    .btn-primary {
      background: linear-gradient(45deg, #007bff, #0056b3);
      border: none;
      border-radius: 25px;
      padding: 12px;
      font-weight: bold;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 6px 12px rgba(0, 123, 255, 0.3); }
/* Sidebar */
.sidebar {
  position: fixed;
  top: 0;
  left: -220px; /* hidden offscreen */
  width: 220px;
  height: 100vh;
  background: #4b4f53ff;
  color: white;
  transition: left 0.3s ease;
  z-index: 1050;
}

/* When active */
.sidebar.active {
  left: 0;
}

/* Backdrop */
.backdrop {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: rgba(0,0,0,0.5);
  display: none; /* hidden by default */
  z-index: 1040;
}

/* Show backdrop when sidebar is active */
.backdrop.active {
  display: block;
}

  </style>
</head>
<body>

  <div class="backdrop" id="backdrop"></div>

<!-- Mobile Hamburger -->
<div class="d-md-none p-3">
    <span class="hamburger" id="hamburger"><i class="fa-solid fa-bars fa-lg"></i></span>
</div>

<div class="sidebar">
  <div class="text-center">
    <img src="{{ url_for('static', filename='images/cross-background.jpg') }}" class="sidebar-logo">
  </div>
  <hr>
  <a href="{{ url_for('admin_dashboard') }}"><i class="fa-solid fa-house"></i> Dashboard</a>

  <a class="collapsed" data-bs-toggle="collapse"
  href="#membersDropdown" role="button" aria-expanded="false" aria-controls="membersDropdown">
      <i class="fa-solid fa-users"></i> Members
      <i class="fa-solid fa-chevron-down float-end"></i>
  </a>
  <div class="collapse" id="membersDropdown">
      <a href="{{ url_for('add_members') }}" class="ps-4 d-block"><i class="fa-solid fa-user-plus me-2"></i> Add Member</a>
      <a href="{{ url_for('view_members') }}" class="ps-4 d-block"><i class="fa-solid fa-table me-2"></i> View Members</a>
  </div>

  <a class="collapsed" data-bs-toggle="collapse"
  href="#ministriesDropdown" role="button" aria-expanded="false" aria-controls="ministriesDropdown">
      <i class="fa-solid fa-church"></i> Ministries
      <i class="fa-solid fa-chevron-down float-end"></i>
  </a>
  <div class="collapse" id="ministriesDropdown">
      <a href="{{ url_for('add_ministry') }}" class="ps-4 d-block"><i class="fa-solid fa-plus me-2"></i> Add Ministry</a>
      <a href="{{ url_for('admin_ministries') }}" class="ps-4 d-block"><i class="fa-solid fa-list me-2"></i> View Ministries</a>
  </div>

  <a class="collapsed" data-bs-toggle="collapse"
  href="#lifegroupsDropdown" role="button" aria-expanded="false" aria-controls="lifegroupsDropdown">
      <i class="fa-solid fa-people-group"></i> Life Groups
      <i class="fa-solid fa-chevron-down float-end"></i>
  </a>
  <div class="collapse" id="lifegroupsDropdown">
     <a href="{{ url_for('add_lifegroup') }}" class="ps-4 d-block"><i class="fa-solid fa-plus me-2"></i> Add LifeGroup</a>
      <a href="{{ url_for('admin_lifegroups') }}" class="ps-4 d-block"><i class="fa-solid fa-list me-2"></i> View Life Groups</a>
  </div>

  <a class="collapsed" data-bs-toggle="collapse"
  href="#tithesDropdown" role="button" aria-expanded="false" aria-controls="tithesDropdown">
      <i class="fa-solid fa-hand-holding-dollar"></i> Tithes & Expenses
      <i class="fa-solid fa-chevron-down float-end"></i>
  </a>
  <div class="collapse" id="tithesDropdown">
      <a href="{{ url_for('add_tithe') }}" class="ps-4 d-block"><i class="fa-solid fa-plus me-2"></i> Add Tithe</a>
      <a href="{{ url_for('view_tithes') }}" class="ps-4 d-block"><i class="fa-solid fa-table me-2"></i> View Tithes</a>
      <a href="{{ url_for('add_expense') }}" class="ps-4 d-block active"><i class="fa-solid fa-circle-plus me-2"></i> Add Expense</a>
      <a href="{{ url_for('view_expenses') }}" class="ps-4 d-block"><i class="fa-solid fa-list me-2"></i> View Expenses</a>
  </div>

  <a class="collapsed" data-bs-toggle="collapse"
   href="#eventsDropdown" role="button" aria-expanded="false" aria-controls="eventsDropdown">
  <i class="fa-solid fa-calendar-days"></i> Events
  <i class="fa-solid fa-chevron-down float-end"></i>
</a>
<div class="collapse" id="eventsDropdown">
  <a href="{{ url_for('add_event') }}" class="ps-4 d-block">
    <i class="fa-solid fa-plus me-2"></i> Add Event
  </a>
  <a href="{{ url_for('view_events') }}" class="ps-4 d-block">
    <i class="fa-solid fa-list me-2"></i> View Events
  </a>
</div>

  <a class="collapsed" data-bs-toggle="collapse"
  href="#usersDropdown" role="button" aria-expanded="false">
      <i class="fa-solid fa-user"></i> Users
      <i class="fa-solid fa-chevron-down float-end"></i>
  </a>
  <div class="collapse" id="usersDropdown">
      <a href="{{ url_for('add_user') }}" class="ps-4 d-block"><i class="fa-solid fa-user-plus me-2"></i> Add User</a>
      <a href="{{ url_for('view_users') }}" class="ps-4 d-block"><i class="fa-solid fa-table me-2"></i> All Users</a>
  </div>
</div>

<div class="main-content">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <div id="datetime" class="time-card"></div>
    <div class="dropdown"> 
      <img src="{{ url_for('static', filename='images/iu.jpg') }}" class="profile-icon dropdown-toggle" data-bs-toggle="dropdown" alt="User">
      <ul class="dropdown-menu dropdown-menu-end">
        <li><a class="dropdown-item" href="/logout"><i class="fa-solid fa-right-from-bracket"></i> Logout</a></li>
      </ul>
    </div>
  </div>

  <div class="container-box">
    <h4 class="mb-4 fw-bold text-primary text-center">
      <i class="fa-solid fa-circle-plus fa-lg me-2"></i>Add New Expense
    </h4>

    <form method="POST">
      <div class="mb-3">
        <label class="form-label"><i class="fa-solid fa-dollar-sign me-2"></i>Amount</label>
        <input type="number" step="0.01" min="0" name="amount" class="form-control" required placeholder="Enter amount (e.g., 100.00)">
      </div>
      <div class="mb-3">
        <label class="form-label"><i class="fa-solid fa-tag me-2"></i>Category</label>
        <select name="category" id="categorySelect" class="form-select" required>
          <option value="">Select a category</option>
          <option value="Utilities">Utilities</option>
          <option value="Supplies">Supplies</option>
          <option value="Events">Events</option>
          <option value="Maintenance">Maintenance</option>
          <option value="Food">Food</option>
          <option value="Other">Other</option>
        </select>
        <input type="text" id="otherCategory" name="other_category" class="form-control mt-2" placeholder="Specify other category" style="display: none;">
      </div>
      <div class="mb-3">
        <label class="form-label"><i class="fa-solid fa-file-alt me-2"></i>Description</label>
        <textarea name="description" class="form-control" rows="3" placeholder="Optional details about the expense"></textarea>
      </div>
      <div class="mb-3">
        <label class="form-label"><i class="fa-solid fa-calendar me-2"></i>Date Spent</label>
        <input type="date" name="date_spent" class="form-control" required>
      </div>
      <div class="d-flex justify-content-between">
        <button type="submit" class="btn btn-primary">
          <i class="fa-solid fa-floppy-disk me-2"></i>Save Expense
        </button>
        <a href="{{ url_for('view_expenses') }}" class="btn btn-secondary">
          <i class="fa-solid fa-times me-2"></i>Cancel
        </a>
      </div>
    </form>
  </div>
</div>
<script>
const hamburger = document.getElementById('hamburger');
const sidebar = document.getElementById('sidebar');
const backdrop = document.getElementById('backdrop');

hamburger.addEventListener('click', () => {
  sidebar.classList.toggle('active');
  backdrop.classList.toggle('active');
});

// Close sidebar when clicking backdrop
backdrop.addEventListener('click', () => {
  sidebar.classList.remove('active');
  backdrop.classList.remove('active');
});

    // Date/Time
    function updateDateTime() {
        const now = new Date();
        const options = { month:'numeric', day:'numeric', year:'numeric', hour:'2-digit', minute:'2-digit', second:'2-digit' };
        const dt = document.getElementById('datetime');
        if (dt) dt.innerText = now.toLocaleDateString('en-US', options);
    }
    setInterval(updateDateTime, 1000);
    updateDateTime();
});
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>













